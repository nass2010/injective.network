import{x as b,b as d,Z as c,al as s,am as m,an as l,ao as k,ap as y,aq as w,ar as v,as as S,at as A}from"./entry.d056f6df.js";import{ao as n,B as j}from"./injective.5ec62b21.js";const M=()=>({inflation:"",currentBlockTime:1.1,annualProvisions:"",pool:{},mintParams:{},stakingParams:{},insuranceParams:{},oracleParams:{},exchangeParams:{},bankParams:{},peggyParams:{},governanceParams:{},distributionParams:{}}),t=b("params",{state:()=>M(),getters:{apr:a=>{const e=d(),r=new n(a.inflation),P=new n(a.annualProvisions),i=new n(a.pool.bondedTokens||0),u=new n(365*24*60*60),h=new n(a.mintParams.blocksPerYear),f=u.div(h).div(a.currentBlockTime),p=new n(a.distributionParams.communityTax),o=new j(e.injSupply.amount||0).toBase();if(r.lte(0)||P.lte(0))return c;if(o.lte(0)||i.lte(0))return c;const g=i.div(o);return r.multipliedBy(new n(1).minus(p)).dividedBy(g).times(f)}},actions:{async fetchAprParams(){const a=t();await a.fetchInflation(),await a.fetchAnnualProvisions(),await a.fetchDistributionParams(),await a.fetchMintParams(),await a.fetchPool()},async fetchInflation(){const a=t();if(a.inflation)return;const{inflation:e}=await s.fetchInflation();a.$patch({inflation:e})},async fetchPool(){const a=t();Object.keys(a.pool).length>0||a.$patch({pool:await m.fetchPool()})},async fetchAnnualProvisions(){const a=t();if(a.annualProvisions)return;const{annualProvisions:e}=await s.fetchAnnualProvisions();a.$patch({annualProvisions:e})},async fetchDistributionParams(){const a=t();Object.keys(a.distributionParams).length>0||a.$patch({distributionParams:await l.fetchModuleParams()})},async fetchStakingParams(){const a=t();Object.keys(a.stakingParams).length>0||a.$patch({stakingParams:await m.fetchModuleParams()})},async fetchGovernanceParams(){const a=t();Object.keys(a.governanceParams).length>0||a.$patch({governanceParams:await k.fetchModuleParams()})},async fetchMintParams(){const a=t();Object.keys(a.mintParams).length>0||a.$patch({mintParams:await s.fetchModuleParams()})},async fetchInsuranceModuleParams(){const a=t();Object.keys(a.insuranceParams).length>0||a.$patch({insuranceParams:await y.fetchModuleParams()})},async fetchParams(){const a=t();Object.keys(a.mintParams).length>0||Object.keys(a.oracleParams).length>0||Object.keys(a.exchangeParams).length>0||Object.keys(a.bankParams).length>0||Object.keys(a.peggyParams).length>0||Object.keys(a.distributionParams).length>0||a.$patch({mintParams:await s.fetchModuleParams(),oracleParams:await w.fetchModuleParams(),exchangeParams:await v.fetchModuleParams(),bankParams:await S.fetchModuleParams(),peggyParams:await A.fetchModuleParams(),distributionParams:await l.fetchModuleParams()})}}});export{t as u};
